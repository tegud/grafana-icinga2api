{"version":3,"sources":["../../src/datasource/datasource.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAO,sB;;AACA,kB;;;;;;;;;;;;;;;;;;;;;4CAEM,oB;AACT,8CAAY,gBAAZ,EAA8B,EAA9B,EAAkC,UAAlC,EAA8C,WAA9C,EAA2D,IAA3D,EAAiE,UAAjE,EAA6E;AAAA;;AACzE,yBAAK,WAAL,GAAmB,iBAAiB,QAAjB,CAA0B,WAA7C;AACA,yBAAK,IAAL,GAAY,iBAAiB,IAA7B;AACA,yBAAK,GAAL,GAAW,iBAAiB,GAA5B;AACA,yBAAK,IAAL,GAAY,iBAAiB,IAA7B;AACA,yBAAK,UAAL,GAAkB,iBAAiB,QAAjB,CAA0B,iBAA5C;AACA,yBAAK,CAAL,GAAS,EAAT;AACA,yBAAK,UAAL,GAAkB,UAAlB;AACA,yBAAK,WAAL,GAAmB,WAAnB;AACA,yBAAK,GAAL,GAAW,IAAX;AACA,yBAAK,UAAL,GAAkB,UAAlB;AACH;;;;;;;;qDAIgB;AACb,+BAAO,KAAK,UAAL,CAAgB,iBAAhB,CAAkC;AACrC,iCAAK,KAAK,GAAL,GAAW,YADqB;AAErC,oCAAQ;AAF6B,yBAAlC,EAGJ,IAHI,CAGC,oBAAY;AAChB,gCAAI,SAAS,MAAT,KAAoB,GAAxB,EAA6B;AACzB,uCAAO,EAAE,QAAQ,SAAV,EAAqB,SAAS,wBAA9B,EAAwD,OAAO,SAA/D,EAAP;AACH;AACD,mCAAO,EAAE,QAAQ,SAAV,EAAqB,SAAS,SAA9B,EAAyC,OAAO,SAAhD,EAAP;AACH,yBARM,CAAP;AASH","file":"datasource.js","sourcesContent":["import TableModel from 'app/core/table_model';\r\nimport moment from 'moment';\r\n\r\nexport class Icinga2apiDatasource {\r\n    constructor(instanceSettings, $q, backendSrv, templateSrv, $sce, $rootScope) {\r\n        this.annotateUrl = instanceSettings.jsonData.annotateUrl;\r\n        this.type = instanceSettings.type;\r\n        this.url = instanceSettings.url;\r\n        this.name = instanceSettings.name;\r\n        this.showHelper = instanceSettings.jsonData.enableQueryHelper;\r\n        this.q = $q;\r\n        this.backendSrv = backendSrv;\r\n        this.templateSrv = templateSrv;\r\n        this.sce = $sce;\r\n        this.$rootScope = $rootScope;\r\n    }\r\n\r\n    // Required\r\n    // Used for testing datasource in datasource configuration pange\r\n    testDatasource() {\r\n        return this.backendSrv.datasourceRequest({\r\n            url: this.url + '/v1/status',\r\n            method: 'GET'\r\n        }).then(response => {\r\n            if (response.status === 200) {\r\n                return { status: \"success\", message: \"Data source is working\", title: \"Success\" };\r\n            }\r\n            return { status: \"success\", message: \"Non 200\", title: \"Success\" };\r\n        });\r\n    }\r\n}\r\n"]}